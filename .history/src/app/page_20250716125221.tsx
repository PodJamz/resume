'use client';

import { HackathonCard } from "@/components/hackathon-card";
import BlurFade from "@/components/magicui/blur-fade";
import BlurFadeText from "@/components/magicui/blur-fade-text";
import { ProjectCard } from "@/components/project-card";
import { ResumeCard } from "@/components/resume-card";
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";
import { Badge } from "@/components/ui/badge";
import { DATA } from "@/data/resume";
import Link from "next/link";
import Markdown from "react-markdown";
import { TextEffect } from "@/components/ui/text-effect";
import { useState } from "react";
import { AnimatePresence, motion } from "framer-motion";

const BLUR_FADE_DELAY = 0.04;

export default function Page() {
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Language toggle state
  const [lang, setLang] = useState<"en" | "pt">("en");
  const toggleLang = () => setLang((l) => (l === "en" ? "pt" : "en"));

  // Hardâ€‘coded Portuguese strings (from your translations)
  const pt = {
    heroGreeting: `OlÃ¡, sou ${DATA.name.split(" ")[0]} ğŸ‘‹`,
    heroDesc: "TecnÃ³logo criativo bilÃ­ngue e Product Designer/Builder/Developer/Engineer/Architect apaixonado por potencializar meu fluxo de trabalho com as mais recentes ferramentas de IA, como Cursor IDE.",
    summary: `TecnÃ³logo criativo bilÃ­ngue e Product Designer/Builder/Developer/Engineer/Architect apaixonado por potencializar meu fluxo de trabalho com as mais recentes ferramentas de IA, como Cursor IDE.

Ao longo de mais de 12 anos, fui me especializando gradualmente em vÃ¡rias disciplinas (design, engenharia, produto e IA) para entregar cada vez mais valor em um cenÃ¡rio tecnolÃ³gico em constante evoluÃ§Ã£o. Meu mÃ©todo Ã© aprender fazendo: a cada projeto e funÃ§Ã£o, adicionei novas habilidades ao meu repertÃ³rio, sempre focado em resolver problemas reais para pessoas reais.

Gosto de colaborar com equipes altamente motivadas para transformar visÃ£o em MVPs e soluÃ§Ãµes escalÃ¡veis, usando uma abordagem orientada por produto, jobs-to-be-done e proposta de valor.

Meu processo Ã© prÃ¡tico e iterativo: facilito workshops, trabalho de perto com stakeholders para definir os verdadeiros jobs-to-be-done e lidero times para entregar valor ao usuÃ¡rio no menor nÃºmero de etapas possÃ­vel.

Acredito que os melhores produtos sÃ£o construÃ­dos por meio de excelÃªncia tÃ©cnica, escuta ativa e resoluÃ§Ã£o colaborativa de problemas, sempre mantendo as necessidades do usuÃ¡rio e os objetivos do negÃ³cio no centro. Dou o meu melhor quando ajudo a transformar visÃ£o em realidade, construindo o prÃ³ximo passo e garantindo que cada etapa resolva um problema real para pessoas reais.

Atualmente, estou muito fascinado por prototipagem rÃ¡pida, gestÃ£o de contexto de IA e orquestraÃ§Ã£o de desenvolvimento colaborativo de produtos com as ferramentas mais modernas, sempre buscando novas formas de entregar valor de maneira mais rÃ¡pida e inteligente.`,
    work: [
      `Prestando consultoria especializada a mÃºltiplas startups stealth de IA nos setores de memÃ³ria de IA, medicina, direito e finanÃ§as, sempre trazendo um olhar de design para cada produto. Liderei iniciativas de produto ponta a ponta, traduzindo ideias complexas de fundadores e visionÃ¡rios em requisitos tÃ©cnicos acionÃ¡veis e MVPs, guiando times do conceito inicial ao protÃ³tipo rÃ¡pido e entrega em produÃ§Ã£o. Atuei de forma autÃ´noma: facilitando workshops colaborativos com fundadores, stakeholders e usuÃ¡rios para definir jobs-to-be-done e propostas de valor reais, tomando decisÃµes, rodando experimentos e assumindo a entrega enquanto multiplicava a produtividade ao meu redor. Promovi o desenvolvimento nativo em IA, orientado por produto, aproveitando ferramentas modernas e ciclos iterativos para acelerar o aprendizado, ampliar o impacto e garantir que cada soluÃ§Ã£o entregasse valor real para usuÃ¡rios e negÃ³cios. Trabalhei de perto com engenheiros e builders, cultivando uma cultura de escuta ativa, resoluÃ§Ã£o colaborativa de problemas e lideranÃ§a prÃ¡tica, impulsionando a adoÃ§Ã£o de prÃ¡ticas modernas de desenvolvimento de alta velocidade. ConstruÃ­ e iterei sistemas cloud-native que escalam entre domÃ­nios e times, sempre focado em entregar soluÃ§Ãµes prÃ¡ticas e centradas no usuÃ¡rio da forma mais eficiente possÃ­vel. Aprofundei expertise em gestÃ£o de contexto de IA e orquestraÃ§Ã£o, alÃ©m de aprimorar habilidades de prototipagem rÃ¡pida para produtos multidomÃ­nio.`,
      `Entreguei desenvolvimento front-end de alto impacto para um sistema de pesquisa jurÃ­dica por IA de ponta. Focado em soluÃ§Ãµes escalÃ¡veis e de alta eficiÃªncia para escritÃ³rios de advocacia de primeira linha na AustrÃ¡lia. Assumi a entrega do produto do conceito ao lanÃ§amento, iterando rapidamente com base no feedback. Integrei recursos de IA e automaÃ§Ã£o para otimizar fluxos de trabalho jurÃ­dicos. Desenvolvi habilidades avanÃ§adas em legal tech, automaÃ§Ã£o e design centrado no usuÃ¡rio para serviÃ§os profissionais.`,
      `Liderei aceleraÃ§Ã£o de produto e iniciativas de crescimento estratÃ©gico. Ofereci orientaÃ§Ã£o especializada em estratÃ©gia de produto, otimizaÃ§Ã£o da jornada do usuÃ¡rio e desenvolvimento front-end Ã¡gil. Liderei times multifuncionais para validar e entregar rapidamente novas funcionalidades. Usei dados reais de usuÃ¡rios e feedback para impulsionar melhorias contÃ­nuas. Ganhei experiÃªncia em anÃ¡lise de mercado, estratÃ©gia de crescimento e entrega Ã¡gil de produto em escala.`,
      `Liderei roteiros completos de IA em setores diversos. Conduzi sessÃµes estratÃ©gicas executivas, desenvolvimento de produto front-end e inovaÃ§Ã£o interdisciplinar para os setores financeiro e musical. ConstruÃ­ e escalei soluÃ§Ãµes nativas de IA, focando em valor de longo prazo e sustentabilidade de sistemas. Mentorei times em prÃ¡ticas modernas de desenvolvimento e experimentaÃ§Ã£o. Expandi lideranÃ§a em IA cross-industry, estratÃ©gia executiva e arquitetura sustentÃ¡vel de produtos.`,
      `Influenciei a direÃ§Ã£o do produto por meio de anÃ¡lise aprofundada de tendÃªncias. Modelei e conduzi workshops de IA que moldaram decisÃµes estratÃ©gicas e inspiraram abordagens inovadoras na organizaÃ§Ã£o. Promovi uma cultura de experimentaÃ§Ã£o e resoluÃ§Ã£o pragmÃ¡tica de problemas. Liderei iniciativas que atravessaram times e domÃ­nios, gerando impacto mensurÃ¡vel no negÃ³cio. Aprimorei habilidades em anÃ¡lise de tendÃªncias, facilitaÃ§Ã£o de workshops e influÃªncia de stakeholders.`,
      `Contribuindo com conselhos visionÃ¡rios em polÃ­ticas nacionais para impulsionar inovaÃ§Ã£o em autismo. Ativamente moldando um ambiente mais inclusivo e fortalecido para comunidades neurodivergentes. Colaborei com stakeholders diversos para influenciar estratÃ©gia e polÃ­tica nacional. Ganhei experiÃªncia em advocacy, engajamento no setor pÃºblico e desenvolvimento de polÃ­ticas inclusivas.`,
      `Revitalizei capacidades de produto criando uma linha inovadora de AR. Gerenciei fluxos de trabalho Ã¡geis, defini roteiros estratÃ©gicos e guiei times multifuncionais ao sucesso. Aprimorei habilidades em desenvolvimento de produto AR/VR, gestÃ£o Ã¡gil de projetos e lideranÃ§a multifuncional. Entreguei uma nova linha de produto do conceito ao lanÃ§amento, aprendendo a equilibrar viabilidade tÃ©cnica com experiÃªncia do usuÃ¡rio.`,
      `Fundei e liderei uma startup pioneira de AR. Garanti financiamento, direcionei a visÃ£o de produto, conduzi o desenvolvimento de software e executei um plano estratÃ©gico de go-to-market. Desenvolvi habilidades empreendedoras, captaÃ§Ã£o de recursos e ownership de produto de ponta a ponta. Aprendi a construir e escalar times, alÃ©m de navegar pelos desafios do crescimento inicial.`,
      `Assegurei confiabilidade e conformidade de equipamentos laboratoriais de ponta. Ofereci suporte tÃ©cnico essencial, mantendo um ambiente de pesquisa seguro e eficiente. Ganhei expertise em operaÃ§Ãµes tÃ©cnicas, compliance e melhoria de processos. Aprimorei habilidades de resoluÃ§Ã£o de problemas e atenÃ§Ã£o a detalhes em ambientes de alta responsabilidade.`,
      `Estruturei expansÃ£o de mercado para a AmÃ©rica Latina por meio de mapeamento detalhado de concorrentes e geraÃ§Ã£o de leads. Influenciei decisÃµes de alto nÃ­vel sobre crescimento regional. Desenvolvi habilidades em desenvolvimento internacional de negÃ³cios, pesquisa de mercado e gestÃ£o de relacionamentos. Aprendi a adaptar estratÃ©gias para novos mercados e culturas diversas.`,
      `Otimizei operaÃ§Ãµes de comÃ©rcio internacional, identificando fornecedores confiÃ¡veis e negociando termos favorÃ¡veis. Naveguei por estruturas legais complexas para garantir resultados comerciais bem-sucedidos. Desenvolvi habilidades de negociaÃ§Ã£o, gestÃ£o de contratos e comunicaÃ§Ã£o internacional. Aprimorei a capacidade de gerenciar riscos e garantir compliance em comÃ©rcio global.`,
      `Desenvolvi e implementei programas de inglÃªs integrados com tecnologia de ponta para aprendizagem. Melhorei resultados educacionais por meio de designs inovadores de cursos e soluÃ§Ãµes de TI. Ganhei experiÃªncia em design curricular, tecnologia educacional e lideranÃ§a em sala de aula. Aprendi a comunicar ideias complexas de forma simples e adaptar o ensino a diferentes perfis de alunos.`,
      `Gerenciei todos os aspectos da banda, de reservas e folha de pagamento a branding e turnÃªs. Fortaleci a presenÃ§a de mercado do grupo por meio de planejamento estratÃ©gico e iniciativas de marketing. Desenvolvi habilidades em direÃ§Ã£o criativa, organizaÃ§Ã£o de eventos e coordenaÃ§Ã£o de equipes. Aprendi a gerenciar projetos de ponta a ponta e fomentar um ambiente criativo e colaborativo.`
    ],
    hackathon:
      `Organizei um hackathon de agentes de IA para mais de 100 participantes, focado em criar soluÃ§Ãµes inovadoras usando agentes de IA.`,
    contact:
      `Quer conversar? SÃ³ me mandar uma DM com uma pergunta direta no Twitter que respondo quando puder. SolicitaÃ§Ãµes de vendas serÃ£o ignoradas.`,
  };

  // Helpers to choose English vs Portuguese:
  const S = lang === "en" ? DATA.summary : pt.summary;
  const D = lang === "en" ? DATA.description : pt.heroDesc;
  const greeting = lang === "en" ? `Hi, I'm ${DATA.name.split(" ")[0]} ğŸ‘‹` : pt.heroGreeting;

  return (
    <AnimatePresence mode="wait">
      <motion.main
        key={lang}
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        exit={{ opacity: 0 }}
        transition={{ duration: 0.4 }}
        className="flex flex-col min-h-[100dvh] space-y-10"
      >
        <section id="hero">
          <div className="mx-auto w-full max-w-2xl space-y-8">
            <div className="gap-2 flex justify-between">
              <div className="flex-col flex flex-1 space-y-1.5">
                <BlurFadeText
                  delay={BLUR_FADE_DELAY}
                  className="text-3xl font-bold tracking-tighter sm:text-5xl xl:text-6xl/none"
                  yOffset={8}
                  text={greeting}
                />

                {/* shimmering toggle button */}
                <BlurFade delay={BLUR_FADE_DELAY + 0.1}>
                  <button
                    type="button"
                    onClick={toggleLang}
                    className="inline-block cursor-pointer"
                  >
                    <TextEffect per="word" preset="slide" className="text-[1.5rem]">
                      {lang === "en" ? "ğŸ‡®ğŸ‡ª" : "ğŸ‡§ğŸ‡·"}
                    </TextEffect>
                  </button>
                </BlurFade>

                <BlurFadeText
                  className="max-w-[600px] md:text-xl"
                  delay={BLUR_FADE_DELAY}
                  text={D}
                />
              </div>
              <BlurFade delay={BLUR_FADE_DELAY}>
                <Avatar className="size-28 border">
                  <AvatarImage alt={DATA.name} src={DATA.avatarUrl} />
                  <AvatarFallback>{DATA.initials}</AvatarFallback>
                </Avatar>
              </BlurFade>
            </div>
          </div>
        </section>
        <section id="about">
          <BlurFade delay={BLUR_FADE_DELAY * 3}>
            <h2 className="text-xl font-bold">
              {lang === "en" ? "About" : "Sobre"}
            </h2>
          </BlurFade>
          <BlurFade delay={BLUR_FADE_DELAY * 4}>
            <Markdown className="prose max-w-full text-pretty font-sans text-sm text-muted-foreground dark:prose-invert">
              {S}
            </Markdown>
          </BlurFade>
        </section>
        <section id="work">
          <div className="flex min-h-0 flex-col gap-y-3">
            <TextEffect
              per="word"
              preset="slide"
              delay={BLUR_FADE_DELAY * 5}
              as="h2"
              className="text-xl font-bold"
            >
              {lang === "en" ? "Work Experience" : "ExperiÃªncia Profissional"}
            </TextEffect>
            {DATA.work.map((work, id) => (
              <BlurFade
                key={work.company}
                delay={BLUR_FADE_DELAY * 6 + id * 0.05}
              >
                <ResumeCard
                  key={work.company}
                  logoUrl={work.logoUrl}
                  altText={work.company}
                  title={work.company}
                  subtitle={work.title}
                  href={work.href}
                  badges={work.badges}
                  period={`${work.start} - ${work.end ?? "Present"}`}
                  description={
                    lang === "en"
                      ? work.description
                      : pt.work[id]
                  }
                />
              </BlurFade>
            ))}
          </div>
        </section>
        <section id="education">
          <div className="flex min-h-0 flex-col gap-y-3">
            <TextEffect
              per="word"
              preset="slide"
              delay={BLUR_FADE_DELAY * 7}
              as="h2"
              className="text-xl font-bold"
            >
              Education (EducaÃ§Ã£o)
            </TextEffect>
            {DATA.education.map((education, id) => (
              <BlurFade
                key={education.school}
                delay={BLUR_FADE_DELAY * 8 + id * 0.05}
              >
                <ResumeCard
                  key={education.school}
                  href={education.href}
                  logoUrl={education.logoUrl}
                  altText={education.school}
                  title={education.school}
                  subtitle={education.degree}
                  period={`${education.start} - ${education.end}`}
                />
              </BlurFade>
            ))}
          </div>
        </section>
        <section id="skills">
          <div className="flex min-h-0 flex-col gap-y-3">
            <BlurFade delay={BLUR_FADE_DELAY * 9}>
              <h2 className="text-xl font-bold">Skills (Habilidades)</h2>
            </BlurFade>
            <div className="flex flex-wrap gap-1">
              {DATA.skills.map((skill, id) => (
                <BlurFade key={skill} delay={BLUR_FADE_DELAY * 10 + id * 0.05}>
                  <Badge key={skill}>{skill}</Badge>
                </BlurFade>
              ))}
            </div>
          </div>
        </section>
        <section id="projects">
          <div className="space-y-12 w-full py-12">
            <div className="flex flex-col items-center justify-center space-y-4 text-center">
              <div className="space-y-2">
                <TextEffect
                  per="word"
                  preset="slide"
                  delay={BLUR_FADE_DELAY * 11}
                  className="inline-block rounded-lg bg-foreground text-background px-3 py-1 text-sm"
                >
                  {lang === "en" ? "My Projects" : "Meus Projetos"}
                </TextEffect>
                <TextEffect
                  per="word"
                  preset="slide"
                  delay={BLUR_FADE_DELAY * 11 + 0.1}
                  as="h2"
                  className="text-3xl font-bold tracking-tighter sm:text-5xl"
                >
                  {lang === "en" ? "Check out my latest work" : "Confira meu trabalho mais recente"}
                </TextEffect>
                <TextEffect
                  per="word"
                  preset="slide"
                  delay={BLUR_FADE_DELAY * 11 + 0.2}
                  className="text-muted-foreground md:text-xl/relaxed lg:text-base/relaxed xl:text-xl/relaxed"
                >
                  {lang === "en" ? "I've worked on a variety of projects, from simple websites to complex web applications. Here are a few of my favorites." : "Trabalhei em diversos projetos, de sites simples a aplicaÃ§Ãµes web complexas. Aqui estÃ£o alguns dos meus favoritos."}
                </TextEffect>
              </div>
            </div>
            <div className="grid grid-cols-1 gap-3 sm:grid-cols-2 max-w-[800px] mx-auto">
              {DATA.projects.map((project, id) => (
                <BlurFade
                  key={project.title}
                  delay={BLUR_FADE_DELAY * 12 + id * 0.05}
                >
                  <ProjectCard
                    key={project.title}
                    title={project.title}
                    href={project.href}
                    description={project.description}
                    dates={project.dates}
                    tags={project.technologies}
                  />
                </BlurFade>
              ))}
            </div>
          </div>
        </section>
        <section id="hackathons">
          <div className="space-y-12 w-full py-12">
            <div className="flex flex-col items-center justify-center space-y-4 text-center">
              <div className="space-y-2">
                <TextEffect
                  per="word"
                  preset="slide"
                  delay={BLUR_FADE_DELAY * 13}
                  className="inline-block rounded-lg bg-foreground text-background px-3 py-1 text-sm"
                >
                  {lang === "en" ? "Hackathons" : "Hackatons"}
                </TextEffect>
                <TextEffect
                  per="word"
                  preset="slide"
                  delay={BLUR_FADE_DELAY * 13 + 0.1}
                  as="h2"
                  className="text-3xl font-bold tracking-tighter sm:text-5xl"
                >
                  {lang === "en" ? "I like building things" : "Eu gosto de criar coisas"}
                </TextEffect>
                <TextEffect
                  per="word"
                  preset="slide"
                  delay={BLUR_FADE_DELAY * 13 + 0.2}
                  className="text-muted-foreground md:text-xl/relaxed lg:text-base/relaxed xl:text-xl/relaxed"
                >
                  {lang === "en" ? DATA.hackathons[0].description : pt.hackathon}
                </TextEffect>
              </div>
            </div>
            <BlurFade delay={BLUR_FADE_DELAY * 14}>
              <ul className="mb-4 ml-4 divide-y divide-dashed border-l">
                {DATA.hackathons.map((project, id) => (
                  <BlurFade
                    key={project.title + project.dates}
                    delay={BLUR_FADE_DELAY * 15 + id * 0.05}
                  >
                    <HackathonCard
                      title={project.title}
                      description={project.description}
                      location={project.location}
                      dates={project.dates}
                      image={project.image}
                      links={project.links}
                    />
                  </BlurFade>
                ))}
              </ul>
            </BlurFade>
          </div>
        </section>
        <section id="contact">
          <div className="grid items-center justify-center gap-4 px-4 text-center md:px-6 w-full py-12">
            <BlurFade delay={BLUR_FADE_DELAY * 16}>
              <div className="space-y-3">
                <div className="inline-block rounded-lg bg-foreground text-background px-3 py-1 text-sm">
                  Contact (Contato)
                </div>
                <h2 className="text-3xl font-bold tracking-tighter sm:text-5xl">
                  {lang === "en" ? "Get in Touch" : "Contato"}
                </h2>
                <p className="mx-auto max-w-[600px] text-muted-foreground md:text-xl/relaxed lg:text-base/relaxed xl:text-xl/relaxed">
                  {lang === "en"
                    ? "Want to chat? Just shoot me a dm with a direct question on twitter and I'll respond whenever I can. I will ignore all soliciting."
                    : pt.contact}
                </p>
              </div>
            </BlurFade>
          </div>
        </section>
      </motion.main>
    </AnimatePresence>
  );
}
